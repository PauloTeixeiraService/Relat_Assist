(self.webpackChunkassistance_report=self.webpackChunkassistance_report||[]).push([[922],{28160:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>yt});var n=i(96446),s=i(28757),l=i(26240),r=i(30344),o=i(65043),a=i(92314),c=i(85865),d=i(14853),x=i(74681);const h=i.p+"static/media/PATEKNIKA_logo_vertical_fundo_branco.32b74549d47b19503982.png";var m=i(76651),u=i(89465);const p=()=>(0,o.useContext)(u.P);var j=i(70579);const g=e=>{let{style:t,children:i,fixed:s,onClick:l}=e;const{editable:r,debug:o}=p();return r?(0,j.jsx)(n.A,{onClick:l,sx:t,children:i}):(0,j.jsx)(m.Ss,{fixed:s,debug:!1,style:t,children:i})},f=e=>{let{children:t}=e;const{editable:i}=p();return i?(0,j.jsx)(g,{style:{display:"flex",flexDirection:"column",flex:1,justifyContent:"space-between"},children:t}):(0,j.jsx)(m.YW,{size:"A4",style:{display:"flex",flexDirection:"column"},children:t})},v=e=>{let{children:t}=e;const{editable:i}=p();return i?(0,j.jsx)(n.A,{sx:{display:"flex",flexDirection:"column",flex:1,justifyContent:"space-between",height:"100%"},children:t}):(0,j.jsx)(m.yo,{children:t})},A={display:"flex",flexDirection:"column",flex:1,padding:"40px",borderRadius:3,overflow:"hidden"},b=e=>{let{children:t}=e;const{editable:i,debug:s}=p();return i?(0,j.jsx)(n.A,{sx:A,children:t}):(0,j.jsx)(m.Ss,{wrap:!0,debug:!1,style:{padding:"22px 28px",display:"flex",flexDirection:"column",flex:1},children:t})};var y=i(89379),S=i(52082);const C=e=>e*d.gz+"px",w=e=>{switch(e){case"h1":return 26;case"h2":return 22;case"h3":return 20;case"h4":return 16;case"h5":return 14;case"h6":return 10.75;case"body1":default:return 10;case"body2":case"subtitle1":return 9.5;case"subtitle2":return 8.4}},I=e=>{var t,i,n,s;switch(e){case"primary":return String(null===(t=S.A.text)||void 0===t?void 0:t.primary);case"secondary":return String(null===(i=S.A.text)||void 0===i?void 0:i.secondary);case"disabled":return String(null===(n=S.A.text)||void 0===n?void 0:n.disabled);default:return String(null===(s=S.A.text)||void 0===s?void 0:s.primary)}},k=e=>{const{editable:t,debug:i}=p(),{variant:n,color:s,style:l,children:r,fixed:o}=e;return t?(0,j.jsx)(c.A,{sx:(0,y.A)({},l),variant:n,children:r}):(0,j.jsx)(m.EY,{fixed:o,debug:!1,style:[{lineHeight:1.5,fontSize:w(n),color:I(s)},(0,y.A)({},l)],children:r})};k.defaultProps={variant:"body1",color:"primary"};const D=k;var E=i(80045),T=i(12008),O=i(90035),W=i(26600),z=i(17392),R=i(35316),M=i(29347),P=i(11906),B=i(74802);const _=["sx","open","icon","title","onClose","children","paperStyles","onConfirm","confirmButtonText","disableCloseButton","disableCancelButton","cancelButtonText"],F=(0,o.forwardRef)(((e,t)=>(0,j.jsx)(T.A,(0,y.A)({unmountOnExit:!0,ref:t},e)))),L=e=>{const{sx:t,open:i,icon:s,title:l,onClose:r,children:o,paperStyles:a,onConfirm:c,confirmButtonText:d,disableCloseButton:x,disableCancelButton:h,cancelButtonText:m}=e,u=(0,E.A)(e,_);return(0,j.jsxs)(O.A,(0,y.A)((0,y.A)({open:i,TransitionComponent:F,keepMounted:!0,onClose:r,PaperProps:{elevation:1,sx:(0,y.A)({position:"relative",m:0,px:{xs:6,md:9},py:{xs:3,md:6}},a)},sx:(0,y.A)({},t)},u),{},{children:[s&&(0,j.jsx)(n.A,{sx:{py:3,pb:2,textAlign:"center",mb:1.5},children:s}),(0,j.jsx)(W.A,{children:l}),!x&&(0,j.jsx)(z.A,{onClick:r,sx:{position:"absolute",top:e=>e.spacing(2.6),right:e=>e.spacing(3)},children:(0,j.jsx)(B.A,{sx:{fontSize:22}})}),(0,j.jsx)(R.A,{children:o}),(0,j.jsxs)(M.A,{sx:{justifyContent:"space-between"},children:[!h&&(0,j.jsx)(P.A,{onClick:r,size:"medium",variant:"text",children:m}),(0,j.jsx)(P.A,{onClick:c,size:"medium",children:d})]})]}))};L.defaultProps={disableCancelButton:!1,cancelButtonText:"Cancel",confirmButtonText:"Ok"};const N=L,q=e=>{let{children:t}=e;const{editable:i}=p();return i?(0,j.jsx)(c.A,{variant:"subtitle2",sx:{color:"text.disabled",letterSpacing:"0.7px",mb:.7,textTransform:"uppercase",fontWeight:"bold"},children:t}):(0,j.jsx)(D,{variant:"subtitle2",color:"disabled",style:{letterSpacing:"0.7px",textTransform:"uppercase",fontWeight:"bold",marginBottom:i?.7:C(.7)},children:t})};var V=i(69859),G=i(34535);const H=["variant","color","value","style"],U=(0,G.Ay)(V.A)((e=>{let{theme:t}=e;return{padding:"0 !important","& .MuiInputBase-input.MuiInputBase-inputSizeSmall":{padding:"2.4px 8px !important"},"& .MuiInputBase-sizeSmall.MuiInputBase-multiline":{padding:"2.4px 8px !important"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid transparent !important"},"&:hover":{backgroundColor:t.palette.primary.light,"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #bed1e4 !important"}},"&.Mui-focused":{backgroundColor:t.palette.primary.light,"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #bed1e4 !important"}}}})),J=e=>{const{editable:t,debug:i}=p(),{variant:n,color:s,value:l,style:r}=e,o=(0,E.A)(e,H);return t?(0,j.jsx)(U,(0,y.A)({size:"small",value:String(l),sx:(0,y.A)({width:"90%"},r)},o)):(0,j.jsx)(m.EY,{debug:!1,style:[{lineHeight:1.5,fontSize:w(n),color:I(s)},(0,y.A)({},r)],children:String(l)})};J.defaultProps={variant:"body1",color:"primary"};const Y=J,K=()=>(0,j.jsx)(n.A,{className:"editable-marker",sx:{border:"2px dashed transparent",backgroundColor:"transparent",position:"absolute",top:0,width:"100%",height:"100%",borderRadius:1,transform:"scaleX(1.075) scaleY(1.15)",transition:e=>e.transitions.create(["transform","background-color","border"])}});var Q=i(92737);const X=()=>{const{invoice:e,setInvoice:t}=(0,o.useContext)(Q.d);return{invoice:e,setInvoice:t,reset:()=>t(Q.u),replace:e=>t(e),handleChangeTempo:(i,n,s)=>{const{temposServico:l}=e,r=(0,y.A)((0,y.A)({},l[i]),{},{[n]:s});t((0,y.A)((0,y.A)({},e),{},{temposServico:((e,t,i)=>[...e.slice(0,t),(0,y.A)((0,y.A)({},e[t]),i),...e.slice(t+1)])(e.temposServico,i,r)}))},append:i=>{const n=e.temposServico.concat(i);t((0,y.A)((0,y.A)({},e),{},{temposServico:n}))},remove:i=>{const n=e.temposServico.filter(((e,t)=>t!==i));t((0,y.A)((0,y.A)({},e),{},{temposServico:n}))},updateCliente:i=>{t((0,y.A)((0,y.A)({},e),{},{cliente:i}))},updateEquipamento:i=>{t((0,y.A)((0,y.A)({},e),{},{equipamento:i}))},updateMateriais:i=>{t((0,y.A)((0,y.A)({},e),{},{materiais:i}))},updateServicosEfetuados:i=>{t((0,y.A)((0,y.A)({},e),{},{servicosEfetuados:i}))},updateSolicitacaoAssistencia:i=>{t((0,y.A)((0,y.A)({},e),{},{solicitacaoAssistencia:i}))},updateValidacoes:i=>{t((0,y.A)((0,y.A)({},e),{},{validacoes:i}))},updateObservacoes:i=>{t((0,y.A)((0,y.A)({},e),{},{observacoes:i}))}}},$=e=>{let{children:t}=e;const{editable:i}=p(),{palette:n}=(0,l.A)();return(0,j.jsx)(g,{style:{position:"relative",marginBottom:i?3:C(3),cursor:"pointer","&:hover":{"& .invoice-editable-content-no-data":{opacity:1},"& .editable-marker":{opacity:1,color:"primary.main",backgroundColor:"primary.light",border:"2px dashed ".concat(n.primary.main),boxShadow:"4px 4px 0px rgb(0 0 0 / 4%)"}}},children:t})},Z=e=>{let{logo:t,onUploadImage:i}=e;const{editable:n}=p();(0,o.useRef)(null);return(0,j.jsx)(g,{style:{maxWidth:280,height:"10%",marginBottom:"12px"},children:t?(0,j.jsx)(m._V,{source:String(t)}):(0,j.jsx)(g,{style:{height:"15px"}})})},ee=()=>{const[e,t]=(0,o.useState)(3);return(0,o.useEffect)((()=>{document.addEventListener("scroll",(()=>{const e=window.scrollY;t(e>60?1:3)}))}),[]),(0,j.jsx)(a.A,{elevation:0,color:"transparent",sx:{py:5,zIndex:e},children:(0,j.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,j.jsxs)(n.A,{children:[(0,j.jsx)(c.A,{variant:"h2",component:"h1",color:"primary.contrastText",sx:{mb:1},children:d.oO.appName}),(0,j.jsx)(c.A,{sx:{color:x.A[100]},children:d.oO.appDescription}),(0,j.jsx)(Z,{logo:h,onUploadImage:()=>null})]}),(0,j.jsx)(n.A,{sx:{ml:"auto"},children:(0,j.jsx)(Z,{logo:h,onUploadImage:()=>null})})]})})},te=i.p+"static/media/background_header.91aece3cf188811f2e12.jpg",ie=()=>(0,j.jsx)(n.A,{component:"footer",sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",pb:8,pt:4},children:(0,j.jsx)(c.A,{variant:"subtitle1",children:"Paulo Teixeira Service"})}),ne=e=>{let{children:t}=e;const i=(0,l.A)(),o=(0,r.A)(i.breakpoints.down("sm"));return(0,j.jsxs)(n.A,{children:[(0,j.jsx)(ee,{}),(0,j.jsx)(n.A,{sx:{width:"100%",position:"fixed",backgroundColor:"primary.main",height:o?300:400,backgroundImage:"url(".concat(te,")"),backgroundSize:"cover",backgroundPosition:"center bottom",backgroundRepeat:"no-repeat"}}),(0,j.jsx)(n.A,{sx:{position:"relative",pt:"130px",pb:10,zIndex:2},children:(0,j.jsx)(s.A,{maxWidth:"lg",children:t})}),(0,j.jsx)(ie,{})]})};i(80847);const se={display:"flex",flexDirection:"row",alignItems:"center"},le={fontWeight:600},re=e=>{let{invoiceNumber:t}=e;const{editable:i}=p(),{invoice:n,setInvoice:s}=X();return(0,j.jsx)(g,{style:{backgroundColor:"#F7FBFF",borderRadius:3,padding:i?"16px 20px":"12px 16px"},children:(0,j.jsx)(g,{style:(0,y.A)({height:i?26:20},se),children:""!=t?(0,j.jsxs)(D,{style:(0,y.A)({minWidth:i?"110px":"80px"},le),children:["N\xba de identifica\xe7\xe3o do comprovativo: ",t]}):(0,j.jsx)(D,{style:(0,y.A)({minWidth:i?"110px":"80px"},le)})})})},oe=(0,o.memo)(re);var ae=i(77739),ce=i(22505),de=i(79456);const xe=()=>{(0,de.wA)();const{append:e}=X(),{editable:t}=p(),{palette:i}=(0,l.A)(),s=()=>{e({data:"",inicio:"",fim:"",kmIda:0,kmVolta:0})};return t?(0,j.jsx)(ae.A,{title:"Add invoice item",children:(0,j.jsxs)(n.A,{onClick:s,sx:{mt:2.2,height:44,opacity:.75,width:"100%",cursor:"cell",display:"flex",borderRadius:1,alignItems:"center",backgroundColor:"#F6F9FC",justifyContent:"center",border:"2px dashed rgb(235 235 235)","&:hover":{opacity:1,color:"primary.main",backgroundColor:"primary.light",border:"2px dashed ".concat(i.primary.main),boxShadow:"4px 4px 0px rgb(0 0 0 / 4%)"}},children:[(0,j.jsx)(ce.A,{sx:{fontSize:20,mr:1}}),(0,j.jsx)(c.A,{fontWeight:"bold",children:"Adicionar novo tempo"})]})}):null};var he=i(24010),me=i(23640),ue=i(899),pe=i(89302),je=i(58390);const ge={position:"relative",display:"flex",flexDirection:"column",justifyContent:"center"},fe=e=>{let{item:t,index:i,lastItem:n,onChange:s,dispatchAlert:l}=e;const{editable:r}=p(),{remove:a}=X(),[d,x]=(0,o.useState)(new Date(0,0,0,0,0,0,0).toString()),h=e=>{void 0!=s&&s(i,e.target.name,Number(e.target.value))};return(0,j.jsx)(g,{style:{width:"100%",display:"flex",flexWrap:"nowrap",flexDirection:"row",position:"relative",borderBottomLeftRadius:n?3:0,borderBottomRightRadius:n?3:0,padding:r?"10px 18px":"7px 16px",backgroundColor:i%2===0?"#fff":"#F6F9FC","&:hover":{"& .remove-button":{transform:"scale(1)"}}},children:(0,j.jsxs)(je.$,{dateAdapter:pe.R,adapterLocale:"en-gb",children:[(0,j.jsx)(g,{style:(0,y.A)({width:"19%",textAlign:"center"},ge),children:(0,j.jsx)(me.v,{value:t.data,onChange:e=>{return t=e,console.log(t),void(void 0!=t&&void 0!=s&&s(i,"data",new Date(t)));var t},slotProps:{textField:{size:"small"}},format:"DD/MM"})}),(0,j.jsx)(g,{style:(0,y.A)({width:"21%"},ge),children:(0,j.jsx)(ue.Q,{value:t.inicio,format:"HH:mm",onChange:e=>{var t;null!=(t=e)&&void 0!=s&&(s(i,"inicio",t),x(t))},slotProps:{textField:{size:"small"}}})}),(0,j.jsx)(g,{style:(0,y.A)({width:"21%"},ge),children:(0,j.jsx)(ue.Q,{value:t.fim,format:"HH:mm",onBlur:e=>(e=>{if(null!=e&&void 0!=s){let t=Number(e.split(":")[0]),n=Number(e.split(":")[1]),l=new Date;l.setHours(t,n,0,0),l>new Date(d)?s(i,"fim",l.toString()):(alert("Por favor, coloque um tempo final posterior ao inicial!"),s(i,"fim",d))}})(e.target.value),slotProps:{textField:{size:"small"}}})}),(0,j.jsx)(g,{style:(0,y.A)({width:"20%"},ge),children:(0,j.jsx)(Y,{name:"kmIda",multiline:!0,minRows:1,maxRows:1,value:t.kmIda.toString(),onChange:h})}),(0,j.jsx)(g,{style:(0,y.A)({width:"21%"},ge),children:(0,j.jsx)(Y,{name:"kmVolta",multiline:!0,minRows:1,maxRows:1,value:t.kmVolta.toString(),onChange:h})}),r&&(0,j.jsx)(he.A,{onClick:()=>{a(i),void 0!=l&&l(t)},size:"small",color:"error",className:"remove-button",sx:{minHeight:26,height:26,width:26,position:"absolute",top:10,right:-12,transform:"scale(0)",borderRadius:"20px",transition:e=>e.transitions.create(["transform","width"]),"&:hover":{width:85,"& h6":{display:"inline-flex",transform:"scale(1)"}}},children:(0,j.jsx)(ae.A,{title:"Remove item",placement:"top",children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(B.A,{sx:{fontSize:20}}),(0,j.jsx)(c.A,{sx:{transform:"scale(0)",display:"none",textTransform:"capitalize",ml:.5},variant:"subtitle2",children:"Remover"})]})})})]})})},ve=e=>{let{title:t}=e;const{editable:i}=p();return(0,j.jsx)(g,{style:{width:"100%",marginBottom:i?"18px":"15px"},children:(0,j.jsx)(D,{variant:"h2",style:{fontWeight:700,lineHeight:1},children:t})})},Ae={position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},be=()=>{const{editable:e}=p(),t=(0,j.jsx)(g,{style:{width:"3px",height:18,backgroundColor:"#dfe5ec",position:"absolute",left:0}});return(0,j.jsx)(g,{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",borderTopRightRadius:3,borderTopLeftRadius:3,justifyContent:"flex-start",backgroundColor:"#EEF6FE",padding:"6px 16px",minHeight:e?"48px":"34px"},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g,{style:(0,y.A)({width:"19%"},Ae),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Data"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"21%"},Ae),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"In\xedcio"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"21%"},Ae),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Fim"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"20%"},Ae),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Km Ida"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"21%"},Ae),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Km Volta"})]})]})})};var ye=i(50249),Se=i(87770);const Ce=e=>({type:Se.J.invoice_SET_DIALOG_CLIENTE,payload:e}),we=e=>({type:Se.J.invoice_SET_DIALOG_EQUIPAMENTO,payload:e}),Ie=e=>({type:Se.J.invoice_SET_DIALOG_MATERIAIS,payload:e}),ke=e=>({type:Se.J.invoice_SET_DIALOG_SERVICOS_EFETUADOS,payload:e}),De=e=>({type:Se.J.invoice_SET_DIALOG_SOLICITACAO_ASSISTENCIA,payload:e}),Ee=e=>({type:Se.J.invoice_SET_DIALOG_VALIDACOES,payload:e});var Te=i(58969),Oe=i(68903),We=i(81402);const ze=()=>{const e=(0,de.wA)(),{updateCliente:t,invoice:i}=X(),{invoice_openDialogCliente:n}=(0,Te.GV)((e=>e.invoice)),[s,l]=(0,o.useState)(i.cliente),r=()=>{e(Ce(!1))},a=e=>{l((0,y.A)((0,y.A)({},s),{},{[e.target.name]:e.target.value}))},c=(0,o.useCallback)((()=>{t(s),r()}),[s]);return(0,j.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Cliente",onClose:r,onConfirm:c,confirmButtonText:"Guardar Cliente",paperStyles:{width:720},children:(0,j.jsxs)(Oe.Ay,{container:!0,spacing:3,children:[(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.nome,onChange:a,size:"small",margin:"none",name:"nome",label:"Nome"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.morada,onChange:a,size:"small",margin:"none",name:"morada",label:"Morada"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.NIF,onChange:a,size:"small",margin:"none",name:"NIF",label:"NIF"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.email,onChange:a,size:"small",margin:"none",name:"email",label:"E-Mail"})})]})})},Re=()=>{const e=(0,de.wA)(),{updateEquipamento:t,invoice:i}=X(),{invoice_openDialogEquipamento:n}=(0,Te.GV)((e=>e.invoice)),[s,l]=(0,o.useState)(i.equipamento),r=()=>{e(we(!1))},a=e=>{l((0,y.A)((0,y.A)({},s),{},{[e.target.name]:e.target.value}))},c=(0,o.useCallback)((()=>{t(s),r()}),[s]);return(0,j.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Equipamento",onClose:r,onConfirm:c,confirmButtonText:"Guardar Equipamento",paperStyles:{width:720},children:(0,j.jsxs)(Oe.Ay,{container:!0,spacing:3,children:[(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.tipologia,onChange:a,size:"small",margin:"none",name:"tipologia",label:"Tipologia ( CNC / Lixadora / Seccionadora / Outro )"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.marca,onChange:a,size:"small",margin:"none",name:"marca",label:"Marca"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.modelo,onChange:a,size:"small",margin:"none",name:"modelo",label:"Modelo"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.matr\u00edcula,onChange:a,size:"small",margin:"none",name:"matr\xedcula",label:"Matr\xedcula"})})]})})};var Me=i(88988);const Pe=()=>{const e=(0,de.wA)(),{updateSolicitacaoAssistencia:t,invoice:i}=X(),{invoice_openDialogSolicitacaoAssistencia:n}=(0,Te.GV)((e=>e.invoice)),[s,l]=(0,o.useState)(i.solicitacaoAssistencia),r=()=>{e(De(!1))},a=e=>{l((0,y.A)((0,y.A)({},s),{},{[e.target.name]:e.target.value}))},c=(0,o.useCallback)((()=>{t(s),r()}),[s]);return(0,j.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Solicita\xe7\xe3o de Assist\xeancia",onClose:r,onConfirm:c,confirmButtonText:"Guardar Solicita\xe7\xe3o de Assist\xeancia",paperStyles:{width:720},children:(0,j.jsxs)(Oe.Ay,{container:!0,spacing:3,children:[(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.nomeRequerente,onChange:a,size:"small",margin:"none",name:"nomeRequerente",label:"Nome do Requerente"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.descricaoPedido,onChange:a,size:"small",margin:"none",name:"descricaoPedido",label:"Descri\xe7\xe3o do Pedido"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsxs)(We.A,{select:!0,fullWidth:!0,id:"demo-simple-select",value:s.realizadoVia,label:"Realizado por Via",onChange:e=>{return t=e,void l((0,y.A)((0,y.A)({},s),{},{realizadoVia:t.target.value}));var t},children:[(0,j.jsx)(Me.A,{value:"Telefone",children:"Telefone"}),(0,j.jsx)(Me.A,{value:"E-Mail",children:"E-Mail"}),(0,j.jsx)(Me.A,{value:"Pessoalmente",children:"Pessoalmente"})]})})]})})},Be=()=>{const e=(0,de.wA)(),{updateServicosEfetuados:t,invoice:i}=X(),{invoice_openDialogServicosEfetuados:n}=(0,Te.GV)((e=>e.invoice)),[s,l]=(0,o.useState)(i.servicosEfetuados),r=()=>{e(ke(!1))},a=(0,o.useCallback)((()=>{t(s),r()}),[s]);return(0,j.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Servi\xe7os Efetuados",onClose:r,onConfirm:a,confirmButtonText:"Guardar Servi\xe7os Efetuados",paperStyles:{width:720},children:(0,j.jsxs)(Oe.Ay,{container:!0,spacing:3,children:[(0,j.jsx)(Oe.Ay,{item:!0,xs:24,sm:12,children:(0,j.jsx)(We.A,{fullWidth:!0,multiline:!0,value:s.descricaoServico,onChange:e=>{l((0,y.A)((0,y.A)({},s),{},{[e.target.name]:e.target.value}))},size:"small",margin:"none",name:"descricaoServico",label:"Descri\xe7\xe3o do Servi\xe7o"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsxs)(We.A,{select:!0,fullWidth:!0,value:s.maquinaOperacional,label:"M\xe1quina Operacional",onChange:e=>{return t=e,void l((0,y.A)((0,y.A)({},s),{},{maquinaOperacional:t.target.value}));var t},children:[(0,j.jsx)(Me.A,{value:"Sim",children:"Sim"}),(0,j.jsx)(Me.A,{value:"N\xe3o",children:"N\xe3o"}),(0,j.jsx)(Me.A,{value:"Condicionalmente",children:"Condicionalmente"})]})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsxs)(We.A,{select:!0,fullWidth:!0,value:s.permanecemServicosPendentes,label:"Permanecem Servicos Pendentes?",onChange:e=>{return t=e,void l((0,y.A)((0,y.A)({},s),{},{permanecemServicosPendentes:t.target.value}));var t},children:[(0,j.jsx)(Me.A,{value:"Sim",children:"Sim"}),(0,j.jsx)(Me.A,{value:"N\xe3o",children:"N\xe3o"}),(0,j.jsx)(Me.A,{value:"Outro",children:"Outro"})]})})]})})},_e=()=>{const e=(0,de.wA)(),{updateMateriais:t,invoice:i}=X(),{invoice_openDialogMateriais:n}=(0,Te.GV)((e=>e.invoice)),[s,l]=(0,o.useState)(i.materiais),r=()=>{e(Ie(!1))},a=e=>{l((0,y.A)((0,y.A)({},s),{},{[e.target.name]:e.target.value}))},c=(0,o.useCallback)((()=>{t(s),r()}),[s]);return(0,j.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Materiais",onClose:r,onConfirm:c,confirmButtonText:"Guardar Materiais",paperStyles:{width:720},children:(0,j.jsxs)(Oe.Ay,{container:!0,spacing:3,children:[(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.materialAplicado,onChange:a,size:"small",margin:"none",name:"materialAplicado",label:"Material Aplicado"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:12,sm:6,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.materialParaOrcamentar,onChange:a,size:"small",margin:"none",name:"materialParaOrcamentar",label:"Material Para Or\xe7amentar"})})]})})};var Fe=i(34233);const Le=e=>{let{title:t,subtitle:i,icon:s}=e;return(0,j.jsxs)(n.A,{className:"invoice-editable-content-no-data",sx:{height:72,display:"flex",alignItems:"center",opacity:.5},children:[(0,j.jsx)(n.A,{sx:{mr:2,"& svg":{fontSize:32}},children:s}),(0,j.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[(0,j.jsx)(c.A,{sx:{fontSize:17,height:24,overflow:"hidden"},children:t}),i&&(0,j.jsx)(c.A,{variant:"subtitle1",sx:{maxHeight:24,overflow:"hidden",textOverflow:"ellipsis"},children:i})]})]})},Ne=e=>{let{cliente:t,handleOpenDialog:i}=e;const{editable:n}=p();return(0,j.jsxs)($,{children:[(0,j.jsx)(g,{style:{position:"relative",zIndex:1},onClick:i,children:(e=>{for(const t in e)return null!==e[t]&&""!=e[t]})(t)?(0,j.jsxs)(j.Fragment,{children:[t.nome&&(0,j.jsx)(g,{children:(0,j.jsx)(D,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:C(1)},children:"Cliente:"})}),(0,j.jsx)(D,{}),t.nome&&(0,j.jsx)(D,{children:t.nome||null}),t.morada&&(0,j.jsx)(D,{children:t.morada||null}),t.NIF&&(0,j.jsx)(D,{children:t.NIF||null}),t.email&&(0,j.jsx)(D,{children:t.email||null})]}):n?(0,j.jsx)(Le,{title:"Cliente",subtitle:"Adicionar detalhes cliente",icon:(0,j.jsx)(Fe.A,{})}):null}),n&&(0,j.jsx)(K,{})]})},qe=e=>{let{equipamento:t,handleOpenDialog:i}=e;const{editable:n}=p();return(0,j.jsxs)($,{children:[(0,j.jsx)(g,{style:{position:"relative",zIndex:1},onClick:i,children:(e=>{for(const t in e)return null!==e[t]&&""!=e[t]})(t)?(0,j.jsxs)(j.Fragment,{children:[t.matr\u00edcula&&(0,j.jsx)(g,{children:(0,j.jsx)(D,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:C(1)},children:"Equipamento:"})}),(0,j.jsx)(D,{}),t.matr\u00edcula&&(0,j.jsx)(D,{children:t.matr\u00edcula||null}),t.tipologia&&(0,j.jsx)(D,{children:t.tipologia||null}),t.marca&&(0,j.jsx)(D,{children:t.marca||null}),t.modelo&&(0,j.jsx)(D,{children:t.modelo||null})]}):n?(0,j.jsx)(Le,{title:"Equipamento",subtitle:"Adicionar detalhes do equipamento",icon:(0,j.jsx)(Fe.A,{})}):null}),n&&(0,j.jsx)(K,{})]})},Ve=e=>{let{solicitacaoassistencia:t,handleOpenDialog:i}=e;const{editable:n}=p();return(0,j.jsxs)($,{children:[(0,j.jsxs)(g,{style:{position:"relative",zIndex:1},onClick:i,children:[(0,j.jsxs)(q,{children:[" ",(0,j.jsx)("br",{})," "]}),(e=>{for(const t in e)return null!==e[t]&&""!=e[t]})(t)?(0,j.jsxs)(j.Fragment,{children:[t.nomeRequerente&&(0,j.jsx)(g,{children:(0,j.jsx)(D,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:C(1)},children:"Solicita\xe7\xe3o de Assist\xeancia"})}),(0,j.jsx)(D,{}),t.nomeRequerente&&(0,j.jsx)(D,{children:t.nomeRequerente||null}),t.descricaoPedido&&(0,j.jsx)(D,{children:t.descricaoPedido||null}),t.realizadoVia&&(0,j.jsx)(D,{children:t.realizadoVia||null})]}):n?(0,j.jsx)(Le,{title:"Solicita\xe7\xe3o de Assist\xeancia",subtitle:"Adicionar detalhes sobre solicita\xe7\xf5es",icon:(0,j.jsx)(Fe.A,{})}):null]}),n&&(0,j.jsx)(K,{})]})},Ge=e=>{let{servicosefetuados:t,handleOpenDialog:i}=e;const{editable:n}=p();return(0,j.jsxs)($,{children:[(0,j.jsx)(g,{style:{position:"relative",zIndex:1},onClick:i,children:(e=>{for(const t in e)return null!==e[t]&&""!=e[t]})(t)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g,{children:(0,j.jsx)(D,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:C(1)},children:"Servi\xe7os Efetuados"})}),(0,j.jsx)(D,{}),(0,j.jsx)(D,{children:t.descricaoServico||null}),(0,j.jsx)(D,{children:t.maquinaOperacional||null}),(0,j.jsx)(D,{children:t.permanecemServicosPendentes||null})]}):n?(0,j.jsx)(Le,{title:"Servi\xe7os Efetuados",subtitle:"Adicionar detalhes sobre servi\xe7os efetuados",icon:(0,j.jsx)(Fe.A,{})}):null}),n&&(0,j.jsx)(K,{})]})},He=e=>{let{materiais:t,handleOpenDialog:i}=e;const{editable:n}=p();return(0,j.jsxs)($,{children:[(0,j.jsx)(g,{style:{position:"relative",zIndex:1},onClick:i,children:(e=>{for(const t in e)return null!==e[t]&&""!=e[t]})(t)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g,{children:(0,j.jsx)(D,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:C(1)},children:"Materiais"})}),(0,j.jsx)(D,{}),(0,j.jsx)(D,{children:t.materialAplicado||null}),(0,j.jsx)(D,{children:t.materialParaOrcamentar||null})]}):n?(0,j.jsx)(Le,{title:"Materiais",subtitle:"Adicionar detalhes sobre materiais",icon:(0,j.jsx)(Fe.A,{})}):null}),n&&(0,j.jsx)(K,{})]})};var Ue=i(69525);const Je=e=>{let{validacoes:t,handleOpenDialog:i}=e;const{editable:n}=p();return(0,j.jsxs)($,{children:[(0,j.jsx)(g,{style:{position:"relative",zIndex:1},onClick:i,children:(e=>{for(const t in e)return null!==e[t]&&""!=e[t]})(t)?(0,j.jsxs)(j.Fragment,{children:[t.nomePessoa&&(0,j.jsx)(g,{children:(0,j.jsx)(D,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:C(1)},children:"Valida\xe7\xf5es"})}),(0,j.jsx)(D,{}),(0,j.jsx)(D,{children:t.nomePessoa}),(0,j.jsx)(D,{children:(0,Ue.A)(new Date(t.validadoEm),"dd/MM/yyyy")})]}):n?(0,j.jsx)(Le,{title:"Valida\xe7\xf5es",subtitle:"Adicionar detalhes sobre valida\xe7\xf5es",icon:(0,j.jsx)(Fe.A,{})}):null}),n&&(0,j.jsx)(K,{})]})};var Ye=i(26224);const Ke=()=>{const e=(0,de.wA)(),{updateValidacoes:t,invoice:i}=X(),{invoice_openDialogValidacoes:n}=(0,Te.GV)((e=>e.invoice)),[s,l]=(0,o.useState)(i.validacoes),r=()=>{e(Ee(!1))},a=(0,o.useCallback)((()=>{t(s),r()}),[s]);return(0,j.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Valida\xe7\xf5es",onClose:r,onConfirm:a,confirmButtonText:"Guardar Valida\xe7\xf5es",paperStyles:{width:720},children:(0,j.jsxs)(Oe.Ay,{container:!0,spacing:3,children:[(0,j.jsx)(Oe.Ay,{item:!0,xs:10,sm:5,children:(0,j.jsx)(We.A,{fullWidth:!0,value:s.nomePessoa,onChange:e=>{l((0,y.A)((0,y.A)({},s),{},{[e.target.name]:e.target.value}))},size:"small",margin:"none",name:"nomePessoa",label:"Nome da Pessoa"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:4,sm:2,children:(0,j.jsx)("div",{style:{height:"30px",lineHeight:"30px"},children:"Validado em:"})}),(0,j.jsx)(Oe.Ay,{item:!0,xs:11,sm:5,children:(0,j.jsx)(Ye.T,{value:s.validadoEm,format:"dd/MM/yyyy",slotProps:{textField:{variant:"standard",InputProps:{disableUnderline:!0}}},onChange:e=>{return t=e,console.log(t),void(null!=t&&l((0,y.A)((0,y.A)({},s),{},{validadoEm:t})));var t}})})]})})},Qe=()=>{const e=(0,de.wA)(),{editable:t}=p(),{invoice:i,handleChangeTempo:n,setInvoice:s}=X(),l=((0,o.useMemo)((()=>{let e=0;return void 0!=i.temposServico&&i.temposServico.forEach((t=>{const i=(new Date(t.fim).getTime()-new Date(t.inicio).getTime())/36e5;e+=i})),e}),[i.temposServico]),t=>{e((0,ye.nc)({show:!0,messages:"Tempo removido com sucesso!",severity:"success"}))});return(0,j.jsx)(v,{children:(0,j.jsxs)(f,{children:[(0,j.jsx)(ze,{}),(0,j.jsx)(Re,{}),(0,j.jsx)(Pe,{}),(0,j.jsx)(Be,{}),(0,j.jsx)(_e,{}),(0,j.jsx)(Ke,{}),(0,j.jsxs)(b,{children:[(0,j.jsx)(ve,{title:"RELAT\xd3RIO"}),(0,j.jsx)(oe,{invoiceNumber:""}),(0,j.jsx)("br",{}),(0,j.jsxs)(g,{style:{display:"flex",flexDirection:"row",marginBottom:"20px"},children:[(0,j.jsxs)(g,{style:{display:"flex",flex:1,flexDirection:"column",marginLeft:"20px"},children:[(0,j.jsx)(q,{children:"A preencher:"}),(0,j.jsx)(Ne,{cliente:i.cliente,handleOpenDialog:()=>{e(Ce(!0))}}),(0,j.jsx)(qe,{equipamento:i.equipamento,handleOpenDialog:()=>{e(we(!0))}}),(0,j.jsx)(Je,{validacoes:i.validacoes,handleOpenDialog:()=>{e(Ee(!0))}})]}),(0,j.jsxs)(g,{style:{display:"flex",flex:1,flexDirection:"column",marginLeft:"20px"},children:[(0,j.jsx)(Ve,{solicitacaoassistencia:i.solicitacaoAssistencia,handleOpenDialog:()=>{e(De(!0))}}),(0,j.jsx)(He,{materiais:i.materiais,handleOpenDialog:()=>{e(Ie(!0))}}),(0,j.jsx)(Ge,{servicosefetuados:i.servicosEfetuados,handleOpenDialog:()=>{e(ke(!0))}})]}),(0,j.jsx)("br",{})]}),(0,j.jsxs)(g,{style:{marginBottom:"16px"},children:[(0,j.jsx)("hr",{}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:"Horas de Servi\xe7o a Registar:"}),(0,j.jsx)("br",{}),(0,j.jsx)(be,{}),Array.isArray(i.temposServico)&&i.temposServico.length>0&&i.temposServico.map(((e,t)=>(0,j.jsx)(fe,{dispatchAlert:l,onChange:n,index:t,item:e,lastItem:i.temposServico.length-1===t},String(t)))),t&&(0,j.jsx)(xe,{})]}),(0,j.jsx)("br",{}),(0,j.jsxs)(g,{style:{marginBottom:"16px"},children:[(0,j.jsx)("hr",{}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:"Outro:"}),(0,j.jsx)("br",{}),(0,j.jsx)(We.A,{fullWidth:!0,value:i.observacoes,onChange:e=>{s((0,y.A)((0,y.A)({},i),{},{observacoes:e.target.value}))},size:"medium",margin:"none",name:"observacoes",label:"Observa\xe7\xf5es",multiline:!0,rows:7})]})]})]})})},Xe=e=>{var t,i;let{message:n}=e;const{editable:s}=p();return(0,j.jsx)(g,{fixed:!0,style:{textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"flex-end",backgroundColor:String(null===(t=S.A.primary)||void 0===t?void 0:t.main),padding:"10px 0"},children:(0,j.jsx)(D,{variant:"subtitle1",style:{color:String(null===(i=S.A.primary)||void 0===i?void 0:i.contrastText)},children:n})})},$e=e=>{let{children:t}=e;const{editable:i}=p();return i?(0,j.jsx)(c.A,{sx:{letterSpacing:"0.7px",mb:.7,fontWeight:"bold"},children:t}):(0,j.jsx)(D,{style:{letterSpacing:"0.7px",fontWeight:"bold",marginBottom:i?.7:C(.7)},children:t})},Ze={position:"relative",display:"flex",flexDirection:"column",justifyContent:"center"},et=e=>{let{item:t,index:i}=e;const{editable:n}=p(),s=(0,j.jsx)(g,{style:{width:"1px",height:12,backgroundColor:"#dfe5ec",position:"absolute",left:0}});return(0,j.jsx)(g,{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",borderTopRightRadius:3,borderTopLeftRadius:3,justifyContent:"flex-start",backgroundColor:i%2===0?"#fff":"#F6F9FC",padding:"6px 16px",minHeight:n?"48px":"34px"},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g,{style:(0,y.A)({width:"21%"},Ze),children:[s,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:new Date(t.data).toLocaleDateString()})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"14%"},Ze),children:[s,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:new Date(t.inicio).toLocaleTimeString()})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"14%"},Ze),children:[s,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:new Date(t.fim).toLocaleTimeString()})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"16%"},Ze),children:[s,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:Math.round((new Date(t.fim).valueOf()-new Date(t.inicio).valueOf())/1e3/60/60*2)/2})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"17%"},Ze),children:[s,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:t.kmIda})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"18%"},Ze),children:[s,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:t.kmVolta})]})]})})},tt={position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},it=()=>{const{editable:e}=p(),t=(0,j.jsx)(g,{style:{width:"1px",height:18,backgroundColor:"#dfe5ec",position:"absolute",left:0}});return(0,j.jsx)(g,{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",borderTopRightRadius:3,borderTopLeftRadius:3,justifyContent:"flex-start",backgroundColor:"#EEF6FE",padding:"6px 16px",minHeight:e?"48px":"34px"},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g,{style:(0,y.A)({width:"21%"},tt),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Data"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"14%"},tt),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"In\xedcio"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"14%"},tt),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Fim"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"16%"},tt),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Horas"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"17%"},tt),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Km Ida"})]}),(0,j.jsxs)(g,{style:(0,y.A)({width:"18%"},tt),children:[t,(0,j.jsx)(D,{style:{fontWeight:600,marginLeft:"12px"},children:"Km Volta"})]})]})})},nt=i.p+"static/media/PATEKNIKA_logo_fundo_branco.45464eff167731a824ca.png",st=e=>{let{invoice:t}=e;(0,o.useMemo)((()=>{let e=0;return void 0!=t.temposServico&&t.temposServico.forEach((t=>{const i=(new Date(t.fim).getTime()-new Date(t.inicio).getTime())/36e5;e+=i})),e}),[t.temposServico]);return(0,j.jsxs)(v,{children:[(0,j.jsxs)(f,{children:[(0,j.jsxs)(b,{children:[(0,j.jsx)(q,{children:" "}),(0,j.jsx)(Z,{logo:nt,onUploadImage:()=>null}),(0,j.jsx)(ve,{title:"RELAT\xd3RIO"}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(oe,{invoiceNumber:(()=>{const e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),l=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0");return"".concat(t).concat(i).concat(n).concat(s).concat(l).concat(r)})()}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)("br",{}),(0,j.jsxs)(g,{style:{display:"flex",flexDirection:"row",marginBottom:"22px"},children:[(0,j.jsxs)(g,{style:{display:"flex",flex:1,flexDirection:"column",marginLeft:"22px"},children:[(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:"Cliente"}),(0,j.jsxs)($e,{children:["Nome: ",t.cliente.nome]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["NIF: ",t.cliente.NIF]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Morada: ",t.cliente.morada]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["E-Mail: ",t.cliente.email]}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:"Equipamento"}),(0,j.jsxs)($e,{children:["Tipologia: ",t.equipamento.tipologia]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Marca: ",t.equipamento.marca]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Modelo: ",t.equipamento.modelo]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Matr\xedcula: ",t.equipamento.matr\u00edcula]}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:"Solicita\xe7\xe3o de Assist\xeancia"}),(0,j.jsxs)($e,{children:["Pedido realizado por via: ",t.solicitacaoAssistencia.realizadoVia]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Nome do Requerente: ",t.solicitacaoAssistencia.nomeRequerente]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Descri\xe7\xe3o do Pedido: ",t.solicitacaoAssistencia.descricaoPedido]}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:"Servi\xe7os Efetuados"}),(0,j.jsxs)($e,{children:["Descri\xe7\xe3o do Servi\xe7o: ",t.servicosEfetuados.descricaoServico]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Permanecem Servi\xe7os Pendentes: ",t.servicosEfetuados.permanecemServicosPendentes]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["M\xe1quina Operacional: ",t.servicosEfetuados.maquinaOperacional]}),(0,j.jsx)("br",{})]}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)("br",{})]})]}),(0,j.jsx)(Xe,{message:"Pateknika Unipessoal Lda | Rua Chaimite 360 4435-025 Rio Tinto | NIF: 518074633 \n M\xf3vel: 964007744 (Rede M\xf3vel Nacional) | pateknika@outlook.pt | www.Pateknika.pt"})]}),(0,j.jsxs)(f,{children:[(0,j.jsxs)(b,{children:[(0,j.jsxs)(g,{style:{marginBottom:"16px"},children:[(0,j.jsx)("hr",{}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:"Materiais"}),(0,j.jsxs)($e,{children:["Material Aplicado: ",t.materiais.materialAplicado]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Material para or\xe7amentar: ",t.materiais.materialParaOrcamentar]}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:"Valida\xe7\xf5es"}),(0,j.jsxs)($e,{children:["Validado por: ",t.validacoes.nomePessoa]}),(0,j.jsx)("br",{}),(0,j.jsxs)($e,{children:["Em: ",new Date(t.validacoes.validadoEm).toLocaleDateString()]}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)(q,{children:" "}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:"Horas de Servi\xe7o a Registar:"}),(0,j.jsx)("br",{}),(0,j.jsx)(it,{}),Array.isArray(t.temposServico)&&t.temposServico.length>0&&t.temposServico.map(((e,t)=>(0,j.jsx)(et,{index:t,item:e})))]}),(0,j.jsx)("br",{}),(0,j.jsxs)(g,{style:{marginBottom:"16px"},children:[(0,j.jsx)("hr",{}),(0,j.jsx)("br",{}),(0,j.jsx)(q,{children:"Observa\xe7\xf5es:"}),(0,j.jsx)($e,{children:t.observacoes}),(0,j.jsx)("br",{})]})]}),(0,j.jsx)(Xe,{message:"Pateknika Unipessoal Lda | Rua Chaimite 360 4435-025 Rio Tinto | NIF: 518074633 \n M\xf3vel: 964007744 (Rede M\xf3vel Nacional) | pateknika@outlook.pt | www.Pateknika.pt"})]})]})};var lt=i(63336);const rt="210mm",ot="297mm",at=e=>{let{children:t,sx:i}=e;return(0,j.jsx)(lt.A,{sx:(0,y.A)({width:{xs:"100%",md:rt},minHeight:{xs:"unset",md:ot}},i),children:t})};var ct=i(2645);const dt=e=>{let{sx:t}=e;return(0,j.jsxs)(lt.A,{sx:(0,y.A)({flex:1,width:"95%",minHeight:490,display:"flex",alignItems:"center",justifyContent:"start",flexDirection:"column"},t),children:[(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)(ct.A,{sx:{color:"text.disabled",fontSize:42,mb:2}}),(0,j.jsx)(c.A,{sx:{color:"text.disabled",fontSize:16},children:"Op\xe7\xf5es"})]})};var xt=i(41132),ht=i(75678),mt=i(80360),ut=i(94329),pt=i(95540),jt=i(63471),gt=i(77154);const ft=e=>{let{invoice:t}=e;return(0,j.jsx)(st,{invoice:t})},vt=50,At=e=>{let{setInvoice:t}=e;const{invoice_data:i}=(0,Te.GV)((e=>e.invoice)),{invoice:s,replace:l,reset:r}=X(),[a,c]=(0,m.cQ)({document:i?(0,j.jsx)(ft,{invoice:s}):(0,j.jsx)(m.yo,{children:(0,j.jsx)(m.YW,{children:(0,j.jsx)(m.EY,{children:"Opss..."})})})});(0,o.useEffect)((()=>{const e=setInterval((()=>{t(s),c((0,j.jsx)(ft,{invoice:s}))}),2e3);return()=>clearInterval(e)}),[s]);return(0,o.useEffect)((()=>{i||t(s)}),[i]),(0,j.jsx)(u.P.Provider,{value:{editable:!1,debug:!0},children:(0,j.jsx)(n.A,{sx:{ml:-3,flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"start",flexDirection:"column",top:-360},children:a.error?(0,j.jsxs)(P.A,{color:"error",startIcon:(0,j.jsx)(B.A,{}),children:["Erro",(0,j.jsx)("br",{}),a.error.toString()]}):!a.loading&&(0,j.jsxs)("div",{children:[(0,j.jsx)(z.A,{sx:{backgroundColor:"#778899",border:"3px solid #fff",height:vt,width:vt,borderRadius:"".concat(vt,"px"),textAlign:"center"},onClick:r,children:(0,j.jsx)(jt.A,{sx:{color:"secondary.contrastText",fontSize:26}})}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)(z.A,{sx:{backgroundColor:"#7fa91b",border:"3px solid #fff",height:vt,width:vt,borderRadius:"".concat(vt,"px"),textAlign:"center"},onClick:()=>{(0,mt.wait)(5e3),localStorage.setItem("rascunho",JSON.stringify(s)),t(s),c((0,j.jsx)(ft,{invoice:s}))},children:(0,j.jsx)(ut.A,{sx:{color:"secondary.contrastText",fontSize:26}})}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)(z.A,{sx:{backgroundColor:"#ffcb2f ",border:"3px solid #fff",height:vt,width:vt,borderRadius:"".concat(vt,"px"),textAlign:"center"},onClick:()=>{var e=localStorage.getItem("rascunho");if(console.log(e),null!=e){var i=JSON.parse(e);i.temposServico=[],l(i),t(i),c((0,j.jsx)(ft,{invoice:i}))}},children:(0,j.jsx)(pt.A,{sx:{color:"secondary.contrastText",fontSize:26}})}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)(z.A,{sx:{backgroundColor:"secondary.main",border:"3px solid #fff",height:vt,width:vt,borderRadius:"".concat(vt,"px"),textAlign:"center"},onClick:()=>{var e;const i=localStorage.getItem("count");if(i){let e=Number(i)+1;localStorage.setItem("count",e.toString())}else localStorage.setItem("count","1");t(s),(0,mt.wait)(5e3),c((0,j.jsx)(ft,{invoice:s})),(0,mt.wait)(5e3),fetch(String(a.url),{method:"GET",headers:{"Content-Type":(null===(e=a.blob)||void 0===e?void 0:e.type)||"application/pdf"}}).then((e=>e.blob())).then((e=>{var t;const i=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=i;const s=new Date,l=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),o=String(s.getDate()).padStart(2,"0"),a=String(s.getHours()).padStart(2,"0"),c=String(s.getMinutes()).padStart(2,"0"),d=String(s.getSeconds()).padStart(2,"0"),x="relatorio_Nr_".concat(l).concat(r).concat(o).concat(a).concat(c).concat(d,".pdf");n.setAttribute("download",x),document.body.appendChild(n),n.click(),null===(t=n.parentNode)||void 0===t||t.removeChild(n)}))},children:(0,j.jsx)(xt.A,{sx:{color:"secondary.contrastText",fontSize:26}})}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)(z.A,{sx:{backgroundColor:"#a91b38",border:"3px solid #fff",height:vt,width:vt,borderRadius:"".concat(vt,"px"),textAlign:"center"},onClick:()=>{var e;const n=localStorage.getItem("count");if(n){let e=Number(n)+1;localStorage.setItem("count",e.toString())}else localStorage.setItem("count","1");t(s),(0,mt.wait)(5e3),c((0,j.jsx)(ft,{invoice:s})),(0,mt.wait)(5e3);const l="relatorio_Nr_".concat(n,"_data_").concat((0,Ue.A)(new Date(i.date),"dd_MM_yyyy"),".pdf");fetch(String(a.url),{method:"GET",headers:{"Content-Type":(null===(e=a.blob)||void 0===e?void 0:e.type)||"application/pdf"}}).then((e=>e.blob())).then((e=>{var t=new File([e],l);console.log(l);const i=new FormData;i.append("file",t),i.append("email",s.cliente.email);gt.A.post("https://mailsender-tau.vercel.app/sendPdf",i).then((e=>{console.log(e),alert(e.data)}))}))},children:(0,j.jsx)(ht.A,{sx:{color:"secondary.contrastText",fontSize:26}})})]})})})},bt=e=>{let{children:t,editable:i,debug:n}=e;return(0,j.jsx)(u.P.Provider,{value:{editable:i,debug:n},children:t})},yt=()=>{const e=(0,de.wA)();return(0,j.jsx)(ne,{children:(0,j.jsxs)(n.A,{sx:{display:"flex",flexWrap:"wrap"},children:[(0,j.jsx)(at,{children:(0,j.jsx)(bt,{editable:!0,debug:!1,children:(0,j.jsx)(Qe,{})})}),(0,j.jsxs)(n.A,{sx:{ml:4,flex:4,position:"relative"},children:[(0,j.jsx)(dt,{}),(0,j.jsx)(At,{setInvoice:t=>{return e((i=t,{type:Se.J.invoice_SET_INVOICE,payload:i}));var i}})]})]})})}},50477:()=>{},42634:()=>{}}]);
//# sourceMappingURL=922.2a524d31.chunk.js.map